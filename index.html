<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Ph√°t hi·ªán DevTools & Responsive Mode</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 100px;
        }
    </style>
</head>

<body>
    <div id="app">
        <h1>Ch√†o m·ª´ng b·∫°n!</h1>
        <p>ƒê√¢y l√† trang demo n·ªôi dung g·ªëc.</p>
    </div>

    <script>
        // Domain g·ªëc c·ªßa b·∫°n
        const officialDomain = "mywebsite.com";

        // L·∫•y domain hi·ªán t·∫°i
        const currentDomain = window.location.hostname;

        // N·∫øu kh√¥ng ph·∫£i domain g·ªëc => hi·ªÉn th·ªã IP
        if (currentDomain !== officialDomain) {
            fetch("https://api.ipify.org?format=json")
                .then(res => res.json())
                .then(data => {
                    document.body.innerHTML = ""; // Xo√° h·∫øt n·ªôi dung

                    const warningDiv = document.createElement("div");
                    warningDiv.style.color = "red";
                    warningDiv.style.fontWeight = "bold";
                    warningDiv.style.fontSize = "20px";
                    warningDiv.style.textAlign = "center";
                    warningDiv.style.marginTop = "60px";
                    warningDiv.style.padding = "20px";

                    // T·∫°o ·∫£nh GIF
                    const warningImg = document.createElement("img");
                    warningImg.src = "https://media.tenor.com/V-JWVD63aeAAAAAi/breaking-light.gif";
                    warningImg.alt = "C·∫£nh b√°o";
                    warningImg.style.width = "80px";
                    warningImg.style.height = "80px";
                    warningImg.style.display = "block";
                    warningImg.style.margin = "0 auto 20px";

                    // T·∫°o n·ªôi dung vƒÉn b·∫£n
                    const warningText = document.createElement("div");
                    warningText.innerText =
                        "C·∫£nh b√°o b·∫£o m·∫≠t!\nIP c·ªßa b·∫°n l√†: " +
                        data.ip +
                        "\nB·∫°n ƒëang truy c·∫≠p b·∫£n sao c·ªßa website.";

                    // G·∫Øn ·∫£nh v√† vƒÉn b·∫£n v√†o div
                    warningDiv.appendChild(warningImg);
                    warningDiv.appendChild(warningText);

                    // Hi·ªÉn th·ªã l√™n body
                    document.body.appendChild(warningDiv);

                });
        }

        (function () {
            let blocked = false;
            const devtoolsMessage = `<h1 style="color:red">üõë ƒê·ª´ng m·ªü DevTools!</h1>`;

            function blockIfDevtools() {
                // L·∫•y hi·ªáu tuy·ªát ƒë·ªëi; ch·ªâ coi l√† "m·ªü" khi kh√°c bi·ªát l·ªõn (ng∆∞·ª°ng 160 px)
                const diff = Math.abs((window.outerWidth || 200) - (window.innerWidth || 20));
                const opened = diff >= 160; // ng∆∞·ª°ng 160px: kh√° an to√†n cho desktop docked

                if (opened && !blocked) {
                    blocked = true;
                    document.body.innerHTML = devtoolsMessage;
                } else if (!opened && blocked) {
                    blocked = false;
                    location.reload();
                }
            }

            setInterval(blockIfDevtools, 500);
        })();

    </script>
</body>

</html>
